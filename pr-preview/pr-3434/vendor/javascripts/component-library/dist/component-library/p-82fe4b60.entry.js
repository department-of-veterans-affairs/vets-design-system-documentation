import{r as e,c as r,h as t,F as a,H as o,g as s}from"./p-8175557e.js";import"./p-435c47ac.js";import{v as i,z as n,g as l,m as d,d as h}from"./p-5e0826d1.js";import{i as m}from"./p-703b9866.js";const p=class{constructor(t){e(this,t),this.dateChange=r(this,"dateChange",7),this.dateBlur=r(this,"dateBlur",7),this.componentLibraryAnalytics=r(this,"component-library-analytics",7),this.dayTouched=!1,this.monthTouched=!1,this.yearTouched=!1,this.handleDateBlur=e=>{const[r,t,a]=(this.value||"").split("-").map((e=>Number(e)));i({component:this,year:r,month:t,day:a,yearTouched:this.yearTouched,monthTouched:this.monthTouched,dayTouched:this.dayTouched,monthSelect:!0}),!this.error&&(this.setValue(r,t,a),this.dateBlur.emit(e),this.enableAnalytics)&&this.componentLibraryAnalytics.emit({componentName:"va-date",action:"blur",details:{year:r,month:t,day:a,"month-year-only":this.monthYearOnly}})},this.handleDateChange=e=>{const r=e.target;let[t,a,o]=(this.value||"").split("-");r.classList.contains("select-month")&&(a=r.value),r.classList.contains("select-day")&&(o=r.value),r.classList.contains("input-year")&&(t=r.value),this.setValue(parseInt(t),parseInt(a),parseInt(o)),this.dateChange.emit(e)},this.handleMonthBlur=()=>{this.monthTouched=!0},this.handleDayBlur=()=>{this.dayTouched=!0},this.handleYearBlur=()=>{this.yearTouched=!0},this.required=!1,this.label=void 0,this.name=void 0,this.hint=void 0,this.error=void 0,this.monthYearOnly=!1,this.value=void 0,this.invalidDay=!1,this.invalidMonth=!1,this.invalidYear=!1,this.enableAnalytics=!1}setValue(e,r,t){const a=`${e||""}-${r?n(r):""}-${t?n(t):""}`.replace(/-+$/,"");this.value=a||null}render(){const{required:e,label:r,name:s,error:i,handleDateBlur:n,handleDateChange:p,monthYearOnly:c,value:u,hint:v}=this,[g,y,b]=(u||"").split("-").map((e=>parseInt(e))),f=y>0?h[y]:[];return t(o,{onBlur:n},t("fieldset",null,t("legend",null,r," ",e&&t("span",{class:"required"},"(*Required)")),v&&t("span",{class:"hint-text"},v),t("slot",null),t("span",{id:"error-message",role:"alert"},i&&t(a,null,t("span",{class:"sr-only"},"Error")," ",m.t(i,(e=>l(e,g,y))(i)))),t("div",{class:"date-container"},t("va-select",{label:"Month","aria-describedby":i?"error-message":void 0,name:`${s}Month`,value:null==y?void 0:y.toString(),onVaSelect:p,onBlur:this.handleMonthBlur,invalid:this.invalidMonth,class:"select-month","aria-label":"Please enter two digits for the month",error:this.monthTouched&&this.invalidMonth?i:null,showError:!1},t("option",{value:""}),d&&d.map((e=>t("option",{value:e.value},e.label)))),!c&&t("va-select",{label:"Day","aria-describedby":i?"error-message":void 0,name:`${s}Day`,value:f.length<b?"":null==b?void 0:b.toString(),onVaSelect:p,onBlur:this.handleDayBlur,invalid:this.invalidDay,class:"select-day","aria-label":"Please enter two digits for the day",error:this.dayTouched&&this.invalidDay?this.error:null,showError:!1},t("option",{value:""}),f&&f.map((e=>t("option",{value:e},e)))),t("va-text-input",{label:"Year","aria-describedby":i?"error-message":void 0,name:`${s}Year`,maxlength:4,pattern:"[0-9]{4}",value:g?g.toString():"",invalid:this.invalidYear,onInput:p,onBlur:this.handleYearBlur,error:this.yearTouched&&this.invalidYear?i:null,"show-input-error":"false",class:"input-year",inputmode:"numeric",type:"text","aria-label":"Please enter four digits for the year"}))))}get el(){return s(this)}};p.style='.sr-only{border:0;clip:rect(0, 0, 0, 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute !important;width:1px;word-wrap:normal !important}#error-message{margin-bottom:0.75rem}#error-message,#input-error-message{color:var(--vads-color-secondary-dark);display:block;font-weight:700;font-size:1.06rem}:host([error]:not([error=\'\'])){border-left:0.3rem solid var(--vads-color-secondary-dark);padding-left:1.25rem;position:relative}@media screen and (min-width: 1008px){:host([error]:not([error=\'\'])){margin-left:-1.4375rem;}}.hint-text{color:#71767A;display:block;font-size:1.06rem}.usa-error-message{font-size:1.06rem}:host([error]:not([error=""])){border-left:0.25rem solid #b50909;padding-left:1rem;position:relative}:host([error]:not([error=""])[use-forms-pattern=multiple]){border-left:none}:host([error]:not([error=""])[use-forms-pattern=multiple]) .input-wrap{border-left:0.25rem solid #b50909;padding-left:1rem;position:relative}@media screen and (min-width: 1008px){:host([error]:not([error=""])){margin-left:-0.9rem}:host([error]:not([error=""])[use-forms-pattern=multiple]) .input-wrap{margin-left:-0.9rem}}@media screen and (max-width: 1008px){:host([error]:not([error=""])[use-forms-pattern=multiple]){padding-left:0}}.usa-label--required{color:var(--vads-color-secondary-dark)}.usa-error-message{color:var(--vads-color-secondary-dark)}:host{display:block;font-family:var(--font-source-sans);margin-top:1.875rem}fieldset{border:none;margin:0;padding:0}legend{border:0;font-size:1.06rem;padding:0}span.required{color:var(--vads-color-secondary-dark)}#error-message{color:var(--vads-color-secondary-dark);display:block;margin-bottom:0}.date-container{display:-ms-flexbox;display:flex;margin-top:12px;-ms-flex-wrap:wrap;flex-wrap:wrap}:host([error]:not([error=""])) .date-container{padding-top:0}.select-month{width:8.125rem;margin-right:0.9375rem}.select-day{width:5rem;margin-right:0.9375rem}.input-year{width:5rem}va-select::part(label),va-text-input::part(label){margin-top:0;margin-bottom:12px}va-text-input::part(validation){display:none}';export{p as va_date}