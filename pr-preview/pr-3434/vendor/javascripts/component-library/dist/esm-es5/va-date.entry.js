import{r as registerInstance,c as createEvent,h,F as Fragment,H as Host,g as getElement}from"./index-f0e1e12e.js";import"./contacts-c39c7b78.js";import{v as validate,z as zeroPadStart,g as getErrorParameters,m as months,d as days}from"./date-utils-bf695dfc.js";import{i as instance}from"./i18next-858cee77.js";var vaDateCss='.sr-only{border:0;clip:rect(0, 0, 0, 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute !important;width:1px;word-wrap:normal !important}#error-message{margin-bottom:0.75rem}#error-message,#input-error-message{color:var(--vads-color-secondary-dark);display:block;font-weight:700;font-size:1.06rem}:host([error]:not([error=\'\'])){border-left:0.3rem solid var(--vads-color-secondary-dark);padding-left:1.25rem;position:relative}@media screen and (min-width: 1008px){:host([error]:not([error=\'\'])){margin-left:-1.4375rem;}}.hint-text{color:#71767A;display:block;font-size:1.06rem}.usa-error-message{font-size:1.06rem}:host([error]:not([error=""])){border-left:0.25rem solid #b50909;padding-left:1rem;position:relative}:host([error]:not([error=""])[use-forms-pattern=multiple]){border-left:none}:host([error]:not([error=""])[use-forms-pattern=multiple]) .input-wrap{border-left:0.25rem solid #b50909;padding-left:1rem;position:relative}@media screen and (min-width: 1008px){:host([error]:not([error=""])){margin-left:-0.9rem}:host([error]:not([error=""])[use-forms-pattern=multiple]) .input-wrap{margin-left:-0.9rem}}@media screen and (max-width: 1008px){:host([error]:not([error=""])[use-forms-pattern=multiple]){padding-left:0}}.usa-label--required{color:var(--vads-color-secondary-dark)}.usa-error-message{color:var(--vads-color-secondary-dark)}:host{display:block;font-family:var(--font-source-sans);margin-top:1.875rem}fieldset{border:none;margin:0;padding:0}legend{border:0;font-size:1.06rem;padding:0}span.required{color:var(--vads-color-secondary-dark)}#error-message{color:var(--vads-color-secondary-dark);display:block;margin-bottom:0}.date-container{display:-ms-flexbox;display:flex;margin-top:12px;-ms-flex-wrap:wrap;flex-wrap:wrap}:host([error]:not([error=""])) .date-container{padding-top:0}.select-month{width:8.125rem;margin-right:0.9375rem}.select-day{width:5rem;margin-right:0.9375rem}.input-year{width:5rem}va-select::part(label),va-text-input::part(label){margin-top:0;margin-bottom:12px}va-text-input::part(validation){display:none}';var VaDateStyle0=vaDateCss;var VaDate=function(){function e(e){var r=this;registerInstance(this,e);this.dateChange=createEvent(this,"dateChange",7);this.dateBlur=createEvent(this,"dateBlur",7);this.componentLibraryAnalytics=createEvent(this,"component-library-analytics",7);this.dayTouched=false;this.monthTouched=false;this.yearTouched=false;this.handleDateBlur=function(e){var t=(r.value||"").split("-").map((function(e){return Number(e)})),a=t[0],n=t[1],o=t[2];validate({component:r,year:a,month:n,day:o,yearTouched:r.yearTouched,monthTouched:r.monthTouched,dayTouched:r.dayTouched,monthSelect:true});if(r.error){return}r.setValue(a,n,o);r.dateBlur.emit(e);if(r.enableAnalytics){var s={componentName:"va-date",action:"blur",details:{year:a,month:n,day:o,"month-year-only":r.monthYearOnly}};r.componentLibraryAnalytics.emit(s)}};this.handleDateChange=function(e){var t=e.target;var a=(r.value||"").split("-"),n=a[0],o=a[1],s=a[2];if(t.classList.contains("select-month")){o=t.value}if(t.classList.contains("select-day")){s=t.value}if(t.classList.contains("input-year")){n=t.value}r.setValue(parseInt(n),parseInt(o),parseInt(s));r.dateChange.emit(e)};this.handleMonthBlur=function(){r.monthTouched=true};this.handleDayBlur=function(){r.dayTouched=true};this.handleYearBlur=function(){r.yearTouched=true};this.required=false;this.label=undefined;this.name=undefined;this.hint=undefined;this.error=undefined;this.monthYearOnly=false;this.value=undefined;this.invalidDay=false;this.invalidMonth=false;this.invalidYear=false;this.enableAnalytics=false}e.prototype.setValue=function(e,r,t){var a="".concat(e?e:"","-").concat(r?zeroPadStart(r):"","-").concat(t?zeroPadStart(t):"").replace(/-+$/,"");this.value=a?a:null};e.prototype.render=function(){var e=this,r=e.required,t=e.label,a=e.name,n=e.error,o=e.handleDateBlur,s=e.handleDateChange,i=e.monthYearOnly,l=e.value,d=e.hint;var m=(l||"").split("-").map((function(e){return parseInt(e)})),u=m[0],c=m[1],p=m[2];var f=c>0?days[c]:[];var v=function(e){return getErrorParameters(e,u,c)};return h(Host,{onBlur:o},h("fieldset",null,h("legend",null,t," ",r&&h("span",{class:"required"},"(*Required)")),d&&h("span",{class:"hint-text"},d),h("slot",null),h("span",{id:"error-message",role:"alert"},n&&h(Fragment,null,h("span",{class:"sr-only"},"Error")," ",instance.t(n,v(n)))),h("div",{class:"date-container"},h("va-select",{label:"Month","aria-describedby":n?"error-message":undefined,name:"".concat(a,"Month"),value:c===null||c===void 0?void 0:c.toString(),onVaSelect:s,onBlur:this.handleMonthBlur,invalid:this.invalidMonth,class:"select-month","aria-label":"Please enter two digits for the month",error:this.monthTouched&&this.invalidMonth?n:null,showError:false},h("option",{value:""}),months&&months.map((function(e){return h("option",{value:e.value},e.label)}))),!i&&h("va-select",{label:"Day","aria-describedby":n?"error-message":undefined,name:"".concat(a,"Day"),value:f.length<p?"":p===null||p===void 0?void 0:p.toString(),onVaSelect:s,onBlur:this.handleDayBlur,invalid:this.invalidDay,class:"select-day","aria-label":"Please enter two digits for the day",error:this.dayTouched&&this.invalidDay?this.error:null,showError:false},h("option",{value:""}),f&&f.map((function(e){return h("option",{value:e},e)}))),h("va-text-input",{label:"Year","aria-describedby":n?"error-message":undefined,name:"".concat(a,"Year"),maxlength:4,pattern:"[0-9]{4}",value:u?u.toString():"",invalid:this.invalidYear,onInput:s,onBlur:this.handleYearBlur,error:this.yearTouched&&this.invalidYear?n:null,"show-input-error":"false",class:"input-year",inputmode:"numeric",type:"text","aria-label":"Please enter four digits for the year"}))))};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();VaDate.style=VaDateStyle0;export{VaDate as va_date};