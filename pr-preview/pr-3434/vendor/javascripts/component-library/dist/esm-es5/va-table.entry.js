import{r as registerInstance,h,H as Host,g as getElement}from"./index-f0e1e12e.js";var vaTableCss="va-table-row{display:none}";var VaTableStyle0=vaTableCss;var VaTable=function(){function t(t){registerInstance(this,t);this.tableTitle=undefined;this.tableType="borderless";this.stacked=true;this.rows=undefined;this.cols=undefined;this.cells=null}t.prototype.getCellsInRow=function(t){var e=t.querySelectorAll("span");var i=Array.from(e);if(!this.cols){this.cols=i.length}return i};t.prototype.getRows=function(){var t=Array.from(this.el.querySelectorAll("va-table-row"));t.forEach((function(t){return t.removeAttribute("role")}));if(!this.rows){this.rows=t.length}return t};t.prototype.getAllCells=function(){var t=[];var e=0;for(var i=0,a=this.getRows();i<a.length;i++){var n=a[i];var r=this.getCellsInRow(n);r.forEach((function(t){t.setAttribute("slot","va-table-slot-".concat(e));e++}));t.push.apply(t,r)}this.cells=t};t.prototype.makeFragment=function(){var t=document.createDocumentFragment();this.cells.forEach((function(e){t.appendChild(e.cloneNode(true))}));return t};t.prototype.makeVATable=function(){var t=document.createElement("va-table-inner");t.setAttribute("rows","".concat(this.rows));t.setAttribute("cols","".concat(this.cols));t.setAttribute("stacked",this.stacked?"true":"false");if(this.tableTitle){t.setAttribute("table-title",this.tableTitle)}if(this.tableType){t.setAttribute("table-type",this.tableType)}var e=this.makeFragment();t.appendChild(e);return t};t.prototype.watchForDataChanges=function(){var t=this;var e=this.el.querySelectorAll("va-table-row")[1];var i=function(){var e=t.el.querySelector("va-table-inner");if(e){e.remove();t.rows=null;t.cols=null;t.cells=null}t.addVaTableInner()};this.observer=new MutationObserver(i);this.observer.observe(e,{childList:true,subtree:true,characterData:true})};t.prototype.disconnectedCallback=function(){if(this.observer){this.observer.disconnect()}};t.prototype.addVaTableInner=function(){this.getAllCells();var t=this.makeVATable();this.el.appendChild(t)};t.prototype.componentDidLoad=function(){this.addVaTableInner();this.watchForDataChanges()};t.prototype.render=function(){return h(Host,{key:"3034e05e25b0ad0c1713b5869e6485ba805233a3"},h("slot",{key:"6c9ff0c65ceffcda78e4024250048e84345f85cb"}))};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});return t}();VaTable.style=VaTableStyle0;export{VaTable as va_table};