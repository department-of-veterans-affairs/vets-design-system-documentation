import{r as registerInstance,c as createEvent,h,H as Host}from"./index-f0e1e12e.js";import{c as classnames}from"./index-6d7ecf98.js";import{i as isDateSameDay,f as formatDate,a as isDateBefore,b as isDateAfter}from"./date-utils-bf695dfc.js";import"./i18next-858cee77.js";var vaMaintenanceBannerCss='p,a,ol,ul,li,dl,dt,dd,form,label,button{font-family:Source Sans Pro Web, "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans;font-size:1.06rem;line-height:1.5}button:not([disabled]):focus,select:not([disabled]):focus,a:not([disabled]):focus,h1:focus,input:not([disabled]):focus,textarea:not([disabled]):focus,#form-question [role=\'option\']:focus{outline:2px solid var(--vads-color-action-focus-on-light);outline-offset:2px}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;border-radius:5px;color:var(--vads-button-color-text-primary-alt-on-light);cursor:pointer;display:inline-block;font-family:var(--font-source-sans);font-size:1rem;font-weight:700;line-height:1;padding:0.625rem 1.25rem;text-align:center;text-decoration:none}.maintenance-banner{border-top:8px solid;background-color:var(--vads-color-base-lightest);position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.maintenance-banner__content{font-size:1.06rem}.maintenance-banner p{-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em}.maintenance-banner--warning{border-color:var(--vads-color-warning)}.maintenance-banner--error{border-color:var(--vads-color-secondary-dark)}.maintenance-banner__icon{position:absolute;top:18px;left:18px}.maintenance-banner--error .maintenance-banner__icon{color:var(--vads-color-secondary-dark)}.maintenance-banner__title{font-family:var(--font-serif);margin:0 0 8px;font-size:20px}.maintenance-banner__body{padding:16px 56px;position:relative;max-width:1000px;margin:0px auto}.maintenance-banner__close{-ms-flex-item-align:start;align-self:flex-start;color:var(--vads-color-base);margin-top:8px}.maintenance-banner__close:hover{color:var(--vads-color-base)}';var VaMaintenanceBannerStyle0=vaMaintenanceBannerCss;var VaMaintenanceBanner=function(){function n(n){var e=this;registerInstance(this,n);this.closeEvent=createEvent(this,"closeEvent",7);this.componentLibraryAnalytics=createEvent(this,"component-library-analytics",7);this.derivePostContent=function(n,e){var a=e.getTime()-n.getTime();var t=Math.floor(a/(1e3*60*60));var r=(a/(1e3*60*60)-t)*60;var i="".concat(t>0?t+" hours ":""," ").concat(r>0?r+" minutes":"");if(isDateSameDay(n,e)){return h("div",null,h("p",null,h("strong",null,"Date:")," ",formatDate(n,{dateStyle:"full"})),h("p",null,h("strong",null,"Time:")," ",formatDate(n,{hour:"numeric",minute:"numeric",timeZoneName:"short"})),h("p",null,h("strong",null,"Duration:")," ",i))}return h("div",null,h("p",null,h("strong",null,"Date:")," ",formatDate(n,{dateStyle:"full"})),h("p",null,h("strong",null,"Time:")," ",formatDate(n,{hour:"numeric",minute:"numeric",timeZoneName:"short"})),h("p",null,h("strong",null,"Duration:")," ",i))};this.onCloseAlert=function(){e.closeEvent.emit();window.localStorage.setItem("MAINTENANCE_BANNER",e.bannerId);e.maintenanceBannerEl.remove();if(!e.disableAnalytics){var n={componentName:"va-maintenance-banner",action:"close",details:{header:isDateBefore(new Date,new Date(e.maintenanceStartDateTime))?e.upcomingWarnTitle:e.maintenanceTitle,upcomingWarnStartDateTime:e.upcomingWarnStartDateTime,maintenanceStartDateTime:e.maintenanceStartDateTime,maintenanceEndDateTime:e.maintenanceEndDateTime,displayedContent:e.maintenanceBannerContent.innerText}};e.componentLibraryAnalytics.emit(n)}};this.disableAnalytics=false;this.bannerId=undefined;this.maintenanceStartDateTime=undefined;this.maintenanceEndDateTime=undefined;this.maintenanceTitle=undefined;this.upcomingWarnStartDateTime=undefined;this.upcomingWarnTitle=undefined;this.isError=undefined}n.prototype.render=function(){var n=this;var e=this,a=e.upcomingWarnStartDateTime,t=e.maintenanceEndDateTime,r=e.isError,i=new Date;if(isDateBefore(i,new Date(a))){return null}if(isDateAfter(i,new Date(t))){return null}if(window.localStorage.getItem("MAINTENANCE_BANNER")!==this.bannerId){var o=this,s=o.upcomingWarnTitle,l=o.maintenanceStartDateTime,c=o.maintenanceTitle;var m=isDateBefore(i,new Date(l))&&!r;var u=classnames({"maintenance-banner":true,"maintenance-banner--warning":m,"maintenance-banner--error":!m});var d=r?"error":"warning";return h(Host,null,h("div",{class:u,ref:function(e){return n.maintenanceBannerEl=e}},h("va-icon",{class:"maintenance-banner__icon",icon:d,size:4}),h("div",{class:"maintenance-banner__body"},h("h4",{class:"maintenance-banner__title"},m?s:c),h("div",{class:"maintenance-banner__content",ref:function(e){return n.maintenanceBannerContent=e}},m?h("slot",{name:"warn-content"}):h("slot",{name:"maintenance-content"})),h("div",{class:"maintenance-banner__derived-content"},this.derivePostContent(new Date(l),new Date(t)))),h("button",{"aria-label":"Close notification",class:"maintenance-banner__close",onClick:this.onCloseAlert,type:"button"},h("va-icon",{icon:"cancel",size:4}))))}else{return null}};return n}();VaMaintenanceBanner.style=VaMaintenanceBannerStyle0;export{VaMaintenanceBanner as va_maintenance_banner};