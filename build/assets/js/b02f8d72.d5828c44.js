"use strict";(globalThis.webpackChunk_vads_docs=globalThis.webpackChunk_vads_docs||[]).push([[4890],{2537(e,t,o){o.d(t,{A:()=>a});var n=o(96540);const r={storyEmbed:"storyEmbed_HaTS",iframeContainer:"iframeContainer_K7vE",loadingOverlay:"loadingOverlay_khA4",loadingSpinner:"loadingSpinner_oGc2",spin:"spin_rbb7",errorState:"errorState_WXt0",errorContent:"errorContent_US3_",errorIcon:"errorIcon_vHh5",errorText:"errorText_DtUc",errorLabel:"errorLabel_ON4V",errorMessage:"errorMessage_gBNp",iframe:"iframe__6x8",preview:"preview_vRUz",previewContent:"previewContent_c0ow",previewIcon:"previewIcon_aNIm",previewText:"previewText_X3uN",previewLabel:"previewLabel_zra2",previewName:"previewName_Ke8C",codeBlock:"codeBlock_yM2N",actions:"actions_tk53",storybookLink:"storybookLink_uCzP",loadButton:"loadButton_j_4P"};var s=o(74848);const i="https://design.va.gov/storybook";function a({storyId:e,height:t=120,title:o,code:a,autoLoad:d=!0,eager:c=!1,showControls:h=!1,args:p,globals:m}){const[u,b]=(0,n.useState)(!1),[v,x]=(0,n.useState)(c),[g,j]=(0,n.useState)(!1),w=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!d||c||v)return;const e=new IntersectionObserver(t=>{const[o]=t;o.isIntersecting&&(x(!0),e.disconnect())},{threshold:.1,rootMargin:"100px"});return w.current&&e.observe(w.current),()=>e.disconnect()},[d,c,v]);const f=h?`${i}/?path=/story/${e}&addons=true&toolbar=true&panel=1`:`${i}/iframe.html?id=${e}&viewMode=story`,y=(()=>{if(h){const t=new URLSearchParams;if(t.append("path",`/story/${e}`),t.append("addons","true"),t.append("toolbar","true"),t.append("panel","1"),p&&Object.keys(p).length>0){const e=Object.entries(p).map(([e,t])=>`${e}:${encodeURIComponent(String(t))}`).join(";");t.append("args",e)}if(m&&Object.keys(m).length>0){const e=Object.entries(m).map(([e,t])=>`${e}:${encodeURIComponent(String(t))}`).join(";");t.append("globals",e)}return`${i}/?${t.toString()}`}{0;const t=new URLSearchParams;if(t.append("id",e),t.append("viewMode","story"),p&&Object.keys(p).length>0){const e=Object.entries(p).map(([e,t])=>`${e}:${encodeURIComponent(String(t))}`).join(";");t.append("args",e)}if(m&&Object.keys(m).length>0){const e=Object.entries(m).map(([e,t])=>`${e}:${encodeURIComponent(String(t))}`).join(";");t.append("globals",e)}return`${i}/iframe.html?${t.toString()}`}})(),C=e.split("--").pop()?.replace(/-/g," ")||e,k=C.charAt(0).toUpperCase()+C.slice(1);return(0,s.jsxs)("div",{ref:w,className:r.storyEmbed,children:[v&&!u?(0,s.jsxs)("div",{className:r.iframeContainer,children:[!g&&(0,s.jsxs)("div",{className:r.loadingOverlay,children:[(0,s.jsx)("div",{className:r.loadingSpinner}),(0,s.jsx)("span",{children:"Loading interactive example..."})]}),(0,s.jsx)("iframe",{src:y,title:o||`${k} example`,height:t,className:r.iframe,loading:"lazy",allow:"clipboard-write",onLoad:()=>{j(!0),b(!1)},onError:()=>{b(!0)},style:{opacity:g?1:0}})]}):u?(0,s.jsx)("div",{className:r.errorState,style:{minHeight:t},children:(0,s.jsxs)("div",{className:r.errorContent,children:[(0,s.jsx)("div",{className:r.errorIcon,children:"\u26a0\ufe0f"}),(0,s.jsxs)("div",{className:r.errorText,children:[(0,s.jsx)("span",{className:r.errorLabel,children:"Unable to load interactive example"}),(0,s.jsx)("span",{className:r.errorMessage,children:"View in Storybook for full interactive experience"}),(0,s.jsx)("button",{onClick:()=>window.open(f,"_blank"),className:r.openButton,children:"Open in Storybook"})]})]})}):(0,s.jsx)("div",{className:r.preview,style:{minHeight:t},children:(0,s.jsxs)("div",{className:r.previewContent,children:[(0,s.jsx)("div",{className:r.previewIcon,children:(0,s.jsx)(l,{})}),(0,s.jsxs)("div",{className:r.previewText,children:[(0,s.jsx)("span",{className:r.previewLabel,children:h?"Interactive Example with Toolbar":"Interactive Example"}),(0,s.jsx)("span",{className:r.previewName,children:k})]})]})}),a&&(0,s.jsx)("div",{className:r.codeBlock,children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{children:a})})}),(0,s.jsxs)("div",{className:r.actions,children:[(0,s.jsxs)("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:r.storybookLink,children:[(0,s.jsx)(l,{size:14}),h?"View with full controls":"View in Storybook"]}),!v&&!d&&(0,s.jsx)("button",{type:"button",onClick:()=>x(!0),className:r.loadButton,children:h?"Load with toolbar":"Load preview"})]})]})}function l({size:e=20}){return(0,s.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M16.71.243l-.12 2.71a.18.18 0 00.29.15l1.06-.8.9.7a.18.18 0 00.28-.14l-.1-2.76 1.33-.1a1.2 1.2 0 011.28 1.2v21.81a1.2 1.2 0 01-1.26 1.2l-14.17-.83a1.2 1.2 0 01-1.14-1.18V1.33A1.2 1.2 0 016.2.14l10.5-.02.01.1zm-5.4 10.52c0 .45 2.94.24 3.33-.08 0-2.93-1.58-4.47-4.48-4.47-2.9 0-4.53 1.57-4.53 3.92 0 4.1 5.52 4.18 5.52 6.42 0 .63-.27 1-.87 1-.78 0-1.09-.43-1.05-1.9 0-.35-3.4-.47-3.52 0-.2 3.68 2.03 4.74 4.6 4.74 2.49 0 4.44-1.32 4.44-3.7 0-4.4-5.6-4.27-5.6-6.48 0-.9.64-1.02 1.05-1.02.47 0 1.14.08 1.1 1.57z"})})}},28453(e,t,o){o.d(t,{R:()=>i,x:()=>a});var n=o(96540);const r={},s=n.createContext(r);function i(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(s.Provider,{value:t},e.children)}},35149(e,t,o){o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"story-embed-test","title":"StoryEmbed Component Test","description":"Testing the updated StoryEmbed component with working iframe fixes","source":"@site/docs/story-embed-test.mdx","sourceDirName":".","slug":"/story-embed-test","permalink":"/docs/story-embed-test","draft":false,"unlisted":false,"editUrl":"https://github.com/department-of-veterans-affairs/vads-design-system/tree/main/apps/docs/docs/story-embed-test.mdx","tags":[],"version":"current","frontMatter":{"title":"StoryEmbed Component Test","description":"Testing the updated StoryEmbed component with working iframe fixes"}}');var r=o(74848),s=o(28453),i=o(2537);const a={title:"StoryEmbed Component Test",description:"Testing the updated StoryEmbed component with working iframe fixes"},l="\ud83c\udf89 StoryEmbed Component - Now With Working Toolbars!",d={},c=[{value:"Test 1: Basic Button (No Toolbar)",id:"test-1-basic-button-no-toolbar",level:2},{value:"Test 2: Button With Toolbar &amp; Controls",id:"test-2-button-with-toolbar--controls",level:2},{value:"Test 3: Different Component With Toolbar",id:"test-3-different-component-with-toolbar",level:2},{value:"Test 4: Component With Custom Args",id:"test-4-component-with-custom-args",level:2},{value:"Features",id:"features",level:2},{value:"Development vs Production",id:"development-vs-production",level:2},{value:"Usage",id:"usage",level:2}];function h(e){const t={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"-storyembed-component---now-with-working-toolbars",children:"\ud83c\udf89 StoryEmbed Component - Now With Working Toolbars!"})}),"\n",(0,r.jsx)(t.h2,{id:"test-1-basic-button-no-toolbar",children:"Test 1: Basic Button (No Toolbar)"}),"\n",(0,r.jsx)(i.A,{storyId:"uswds-va-button--default",height:200}),"\n",(0,r.jsx)(t.h2,{id:"test-2-button-with-toolbar--controls",children:"Test 2: Button With Toolbar & Controls"}),"\n",(0,r.jsx)(i.A,{storyId:"uswds-va-button--default",height:400,showControls:!0,title:"Button with interactive toolbar"}),"\n",(0,r.jsx)(t.h2,{id:"test-3-different-component-with-toolbar",children:"Test 3: Different Component With Toolbar"}),"\n",(0,r.jsx)(i.A,{storyId:"uswds-va-alert--error",height:300,showControls:!0,title:"Alert component with controls"}),"\n",(0,r.jsx)(t.h2,{id:"test-4-component-with-custom-args",children:"Test 4: Component With Custom Args"}),"\n",(0,r.jsx)(i.A,{storyId:"uswds-va-button--default",height:200,showControls:!0,args:{text:"Custom Button Text",variant:"secondary"},title:"Button with custom args"}),"\n",(0,r.jsx)(t.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(t.p,{children:["\u2705 ",(0,r.jsx)(t.strong,{children:"Working toolbar"})," - Zoom, backgrounds, measurements",(0,r.jsx)(t.br,{}),"\n","\u2705 ",(0,r.jsx)(t.strong,{children:"Smart environment detection"})," - localhost:6007 in dev, fallback in prod",(0,r.jsx)(t.br,{}),"\n","\u2705 ",(0,r.jsx)(t.strong,{children:"Perfect parameters"})," - ",(0,r.jsx)(t.code,{children:"nav=0&panel=0&full=0&shortcuts=0&singleStory=true"}),(0,r.jsx)(t.br,{}),"\n","\u2705 ",(0,r.jsx)(t.strong,{children:"Error handling"})," - Graceful fallbacks when iframe is blocked",(0,r.jsx)(t.br,{}),"\n","\u2705 ",(0,r.jsx)(t.strong,{children:"Loading states"})," - Smooth loading experience"]}),"\n",(0,r.jsx)(t.h2,{id:"development-vs-production",children:"Development vs Production"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"\ud83d\ude80 Development:"})," Uses ",(0,r.jsx)(t.code,{children:"localhost:6007"})," with working iframes"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"\ud83d\udd17 Production:"})," Shows preview + links until VA removes X-Frame-Options header"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'// Basic embed\n<StoryEmbed storyId="uswds-va-button--default" />\n\n// With toolbar and controls\n<StoryEmbed \n  storyId="uswds-va-button--default" \n  showControls={true}\n  height={400}\n/>\n\n// With custom args\n<StoryEmbed \n  storyId="uswds-va-button--default"\n  showControls={true}\n  args={{ text: \'Custom Text\', variant: \'secondary\' }}\n/>\n'})})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);