"use strict";(globalThis.webpackChunk_vads_docs=globalThis.webpackChunk_vads_docs||[]).push([[2833],{16122(e,s,n){n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"METRICS-DASHBOARD","title":"Metrics Dashboard Data Flow Documentation","description":"Overview","source":"@site/docs/METRICS-DASHBOARD.md","sourceDirName":".","slug":"/METRICS-DASHBOARD","permalink":"/docs/METRICS-DASHBOARD","draft":false,"unlisted":false,"editUrl":"https://github.com/department-of-veterans-affairs/vads-design-system/tree/main/apps/docs/docs/METRICS-DASHBOARD.md","tags":[],"version":"current","frontMatter":{}}');var r=n(74848),t=n(28453);const l={},c="Metrics Dashboard Data Flow Documentation",o={},a=[{value:"Overview",id:"overview",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Data Sources and Processing",id:"data-sources-and-processing",level:2},{value:"1. Component Usage Data (CSV \u2192 JSON)",id:"1-component-usage-data-csv--json",level:3},{value:"Data Flow:",id:"data-flow",level:4},{value:"CSV Structure:",id:"csv-structure",level:4},{value:"JSON Output:",id:"json-output",level:4},{value:"2. Issue Tracking Data (GitHub API \u2192 JSON)",id:"2-issue-tracking-data-github-api--json",level:3},{value:"Data Collection:",id:"data-collection",level:4},{value:"JSON Output:",id:"json-output-1",level:4},{value:"3. Experimental Design Issues (GitHub API \u2192 JSON)",id:"3-experimental-design-issues-github-api--json",level:3},{value:"Data Collection:",id:"data-collection-1",level:4},{value:"File Locations",id:"file-locations",level:2},{value:"Source Data (Input)",id:"source-data-input",level:3},{value:"Processed Data (Output)",id:"processed-data-output",level:3},{value:"For JavaScript (Progressive Enhancement)",id:"for-javascript-progressive-enhancement",level:4},{value:"For Jekyll (Server-Side Rendering)",id:"for-jekyll-server-side-rendering",level:4},{value:"Raw CSV Data (Jekyll Processing)",id:"raw-csv-data-jekyll-processing",level:3},{value:"Processing Scripts",id:"processing-scripts",level:2},{value:"1. <code>scripts/process-ds-components.js</code>",id:"1-scriptsprocess-ds-componentsjs",level:3},{value:"2. <code>scripts/collect-issue-metrics.js</code>",id:"2-scriptscollect-issue-metricsjs",level:3},{value:"3. <code>scripts/collect-experimental-metrics.js</code>",id:"3-scriptscollect-experimental-metricsjs",level:3},{value:"4. <code>scripts/analyze_issues.js</code>",id:"4-scriptsanalyze_issuesjs",level:3},{value:"Automation (GitHub Actions)",id:"automation-github-actions",level:2},{value:"Workflow: <code>.github/workflows/metrics-dashboard.yml</code>",id:"workflow-githubworkflowsmetrics-dashboardyml",level:3},{value:"Workflow Steps:",id:"workflow-steps",level:4},{value:"Dashboard Implementation",id:"dashboard-implementation",level:2},{value:"Server-Side (Jekyll Liquid)",id:"server-side-jekyll-liquid",level:3},{value:"Client-Side (JavaScript Progressive Enhancement)",id:"client-side-javascript-progressive-enhancement",level:3},{value:"Benefits of Current Architecture",id:"benefits-of-current-architecture",level:2},{value:"1. <strong>Accessibility First</strong>",id:"1-accessibility-first",level:3},{value:"2. <strong>Progressive Enhancement</strong>",id:"2-progressive-enhancement",level:3},{value:"3. <strong>Reliable Automation</strong>",id:"3-reliable-automation",level:3},{value:"4. <strong>Performance</strong>",id:"4-performance",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues:",id:"common-issues",level:3},{value:"Manual Data Updates:",id:"manual-data-updates",level:3},{value:"Verification Commands:",id:"verification-commands",level:3},{value:"Future Considerations",id:"future-considerations",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"metrics-dashboard-data-flow-documentation",children:"Metrics Dashboard Data Flow Documentation"})}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(s.p,{children:"The VA Design System metrics dashboard displays usage and health metrics for the design system. The data flows through multiple repositories and processes to create a comprehensive view of system adoption and performance."}),"\n",(0,r.jsx)(s.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   component-library \u2502    \u2502  vets-design-system- \u2502    \u2502    design.va.gov       \u2502\n\u2502        repo         \u2502\u2500\u2500\u2500\u25b6\u2502    documentation     \u2502\u2500\u2500\u2500\u25b6\u2502   (metrics dashboard)  \u2502\n\u2502                     \u2502    \u2502        repo          \u2502    \u2502                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                           \u2502                           \u2502\n         \u25bc                           \u25bc                           \u25bc\n  ds-components-*.csv        JSON metrics files            HTML + Charts\n  (component usage)          (processed data)            (final dashboard)\n"})}),"\n",(0,r.jsx)(s.h2,{id:"data-sources-and-processing",children:"Data Sources and Processing"}),"\n",(0,r.jsx)(s.h3,{id:"1-component-usage-data-csv--json",children:"1. Component Usage Data (CSV \u2192 JSON)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Source Repository"}),": ",(0,r.jsx)(s.code,{children:"component-library"}),"\n",(0,r.jsx)(s.strong,{children:"Location"}),": ",(0,r.jsx)(s.code,{children:"packages/design-system-dashboard-cli/output/ds-components-*.csv"}),"\n",(0,r.jsx)(s.strong,{children:"What it contains"}),": Usage counts for each VA design system component across all VA applications"]}),"\n",(0,r.jsx)(s.h4,{id:"data-flow",children:"Data Flow:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Generation"}),": CSV files are generated in the component-library repo using their dashboard CLI"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Transfer"}),": GitHub Actions workflow fetches the latest CSV from component-library repo"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Processing"}),": ",(0,r.jsx)(s.code,{children:"scripts/process-ds-components.js"})," converts CSV to JSON"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": Creates ",(0,r.jsx)(s.code,{children:"component-usage.json"})," in both locations:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/src/assets/data/metrics/"})," (for JavaScript charts)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/src/_data/metrics/"})," (for Jekyll Liquid templates)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"csv-structure",children:"CSV Structure:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"date,component_name,uswds,static_content_templates,yellow_ribbon_schools,...[123 VA applications]\n2025-09-04,VaAlert,0,2,0,5,12,...\n2025-09-04,VaButton,0,8,2,15,25,...\n"})}),"\n",(0,r.jsx)(s.h4,{id:"json-output",children:"JSON Output:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "top_components_overall": [\n    {\n      "name": "VaModal",\n      "usage_count": 316,\n      "totalUsage": 316,\n      "applicationBreakdown": { "appointments": 5, "travel_pay": 0, ... }\n    }\n  ],\n  "summary_stats": {\n    "total_components": 50,\n    "total_usages": 2404,\n    "most_used": "VaModal",\n    "applications_tracked": 123\n  },\n  "data_source": "component-library/ds-components",\n  "report_date": "2025-09-04"\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"2-issue-tracking-data-github-api--json",children:"2. Issue Tracking Data (GitHub API \u2192 JSON)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Source"}),": GitHub Issues API for this repository\n",(0,r.jsx)(s.strong,{children:"Script"}),": ",(0,r.jsx)(s.code,{children:"scripts/collect-issue-metrics.js"}),"\n",(0,r.jsx)(s.strong,{children:"Frequency"}),": Weekly via GitHub Actions"]}),"\n",(0,r.jsx)(s.h4,{id:"data-collection",children:"Data Collection:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub API"}),": Fetches all issues using ",(0,r.jsx)(s.code,{children:"gh"})," CLI tool"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Processing"}),": Groups issues by quarterly and monthly periods"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Calculations"}),": Computes resolution times, trend indicators"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": Creates ",(0,r.jsx)(s.code,{children:"issue-metrics.json"})," in both locations"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"json-output-1",children:"JSON Output:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "quarterly": [\n    { "period": "2025-Q3", "issues_opened": 352, "issues_closed": 333 }\n  ],\n  "velocity": [\n    { "period": "2025-09", "issues_opened": 28 }\n  ],\n  "experimental_quarterly": [\n    { "period": "2025-Q3", "issues_opened": 4, "issues_closed": 12, "issues_implemented": 1 }\n  ],\n  "summary": {\n    "open_issues": 472,\n    "closed_this_month": 25,\n    "avg_resolution_days": 123,\n    "open_issues_trend": { "direction": "up", "percentage": 8 }\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"3-experimental-design-issues-github-api--json",children:"3. Experimental Design Issues (GitHub API \u2192 JSON)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Source"}),": GitHub Issues with ",(0,r.jsx)(s.code,{children:"experimental_design"})," label\n",(0,r.jsx)(s.strong,{children:"Script"}),": ",(0,r.jsx)(s.code,{children:"scripts/collect-experimental-metrics.js"}),"\n",(0,r.jsx)(s.strong,{children:"Frequency"}),": Weekly via GitHub Actions"]}),"\n",(0,r.jsx)(s.h4,{id:"data-collection-1",children:"Data Collection:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Filtered Query"}),": Only issues with ",(0,r.jsx)(s.code,{children:"experimental_design"})," label"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Quarterly Grouping"}),": Groups by quarters to track design evolution"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Implementation Tracking"}),": Tracks which experimental designs become official"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": Creates ",(0,r.jsx)(s.code,{children:"experimental-metrics.json"})," in both locations"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"file-locations",children:"File Locations"}),"\n",(0,r.jsx)(s.h3,{id:"source-data-input",children:"Source Data (Input)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Component Library CSV"}),": ",(0,r.jsx)(s.code,{children:"component-library/packages/design-system-dashboard-cli/output/ds-components-*.csv"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub Issues"}),": Fetched via API calls to this repository"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"processed-data-output",children:"Processed Data (Output)"}),"\n",(0,r.jsx)(s.p,{children:"Each JSON file exists in TWO locations:"}),"\n",(0,r.jsx)(s.h4,{id:"for-javascript-progressive-enhancement",children:"For JavaScript (Progressive Enhancement)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/assets/data/metrics/issue-metrics.json"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/assets/data/metrics/component-usage.json"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/assets/data/metrics/experimental-metrics.json"})}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"for-jekyll-server-side-rendering",children:"For Jekyll (Server-Side Rendering)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/_data/metrics/issue-metrics.json"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/_data/metrics/component-usage.json"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/_data/metrics/experimental-metrics.json"})}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"raw-csv-data-jekyll-processing",children:"Raw CSV Data (Jekyll Processing)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/_data/metrics/ds-components-latest.csv"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/src/_data/metrics/ds-components-YYYY-MM-DD.csv"})}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"processing-scripts",children:"Processing Scripts"}),"\n",(0,r.jsxs)(s.h3,{id:"1-scriptsprocess-ds-componentsjs",children:["1. ",(0,r.jsx)(s.code,{children:"scripts/process-ds-components.js"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Converts CSV component usage data to JSON"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Input"}),": CSV files from component-library repo"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Processing"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Parses CSV with 123+ application columns"}),"\n",(0,r.jsx)(s.li,{children:"Aggregates usage counts per component"}),"\n",(0,r.jsx)(s.li,{children:"Calculates summary statistics"}),"\n",(0,r.jsx)(s.li,{children:"Generates trend indicators"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": ",(0,r.jsx)(s.code,{children:"component-usage.json"})," (both locations)"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"2-scriptscollect-issue-metricsjs",children:["2. ",(0,r.jsx)(s.code,{children:"scripts/collect-issue-metrics.js"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Collects GitHub issue metrics"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Input"}),": GitHub Issues API data"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Processing"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Groups issues by quarter and month"}),"\n",(0,r.jsx)(s.li,{children:"Calculates resolution time averages"}),"\n",(0,r.jsx)(s.li,{children:"Generates trend comparisons"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": ",(0,r.jsx)(s.code,{children:"issue-metrics.json"})," (both locations)"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"3-scriptscollect-experimental-metricsjs",children:["3. ",(0,r.jsx)(s.code,{children:"scripts/collect-experimental-metrics.js"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Tracks experimental design issue lifecycle"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Input"}),": GitHub Issues with ",(0,r.jsx)(s.code,{children:"experimental_design"})," label"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Processing"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Filters experimental design issues"}),"\n",(0,r.jsx)(s.li,{children:"Tracks implementation status"}),"\n",(0,r.jsx)(s.li,{children:"Groups by quarterly periods"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": ",(0,r.jsx)(s.code,{children:"experimental-metrics.json"})," (both locations)"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"4-scriptsanalyze_issuesjs",children:["4. ",(0,r.jsx)(s.code,{children:"scripts/analyze_issues.js"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Analyzes open GitHub issues by component labels"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Input"}),": GitHub Issues API data (open issues only)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Processing"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Categorizes issues by component labels"}),"\n",(0,r.jsx)(s.li,{children:"Counts bug issues per component"}),"\n",(0,r.jsx)(s.li,{children:"Tracks accessibility defects by severity (0=Critical, 1=Serious, 2=Moderate, 3=Minor, 4=Enhancement)"}),"\n",(0,r.jsx)(s.li,{children:"When an issue has multiple a11y-defect labels, counts only the most severe"}),"\n",(0,r.jsx)(s.li,{children:"Generates markdown report with sortable tables and quick links"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output"}),": ",(0,r.jsx)(s.code,{children:"component-issues-report.md"})," in ",(0,r.jsx)(s.code,{children:"/src/_data/metrics/"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Usage"}),": ",(0,r.jsx)(s.code,{children:"yarn analyze-issues"})," or ",(0,r.jsx)(s.code,{children:"node scripts/analyze_issues.js"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Requirements"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["GitHub CLI (",(0,r.jsx)(s.code,{children:"gh"}),") installed and authenticated (",(0,r.jsx)(s.code,{children:"gh auth login"}),")"]}),"\n",(0,r.jsx)(s.li,{children:"Internet connection for API calls"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"automation-github-actions",children:"Automation (GitHub Actions)"}),"\n",(0,r.jsxs)(s.h3,{id:"workflow-githubworkflowsmetrics-dashboardyml",children:["Workflow: ",(0,r.jsx)(s.code,{children:".github/workflows/metrics-dashboard.yml"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Schedule"}),": Weekly on Fridays at 6 PM UTC (2 PM ET/1 PM EDT)\n",(0,r.jsx)(s.strong,{children:"Trigger"}),": Also runs on manual dispatch and workflow file changes"]}),"\n",(0,r.jsx)(s.h4,{id:"workflow-steps",children:"Workflow Steps:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Setup"}),": Node.js, GitHub CLI authentication"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Fetch CSV"}),": Clone component-library repo, find latest ds-components CSV"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Process CSV"}),": Run ",(0,r.jsx)(s.code,{children:"scripts/process-ds-components.js"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Collect Issues"}),": Run ",(0,r.jsx)(s.code,{children:"scripts/collect-issue-metrics.js"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Collect Experimental"}),": Run ",(0,r.jsx)(s.code,{children:"scripts/collect-experimental-metrics.js"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Verify"}),": Check all JSON files exist in both locations"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Commit"}),": Auto-commit updated metrics data"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Deploy"}),": Changes auto-deploy to design.va.gov"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"dashboard-implementation",children:"Dashboard Implementation"}),"\n",(0,r.jsx)(s.h3,{id:"server-side-jekyll-liquid",children:"Server-Side (Jekyll Liquid)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Location"}),": ",(0,r.jsx)(s.code,{children:"/src/_about/metrics.html"}),"\n",(0,r.jsx)(s.strong,{children:"Data Source"}),": ",(0,r.jsx)(s.code,{children:"/src/_data/metrics/*.json"}),"\n",(0,r.jsx)(s.strong,{children:"Rendering"}),": Tables and metric cards populated during Jekyll build"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-liquid",children:"{% for quarter in site.data.metrics.issue-metrics.quarterly %}\n  <va-table-row>\n    <span>{{ quarter_parts[1] }} {{ quarter_parts[0] }}</span>\n    <span>{{ quarter.issues_opened }}</span>\n    <span>{{ quarter.issues_closed }}</span>\n  </va-table-row>\n{% endfor %}\n"})}),"\n",(0,r.jsx)(s.h3,{id:"client-side-javascript-progressive-enhancement",children:"Client-Side (JavaScript Progressive Enhancement)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Data Source"}),": ",(0,r.jsx)(s.code,{children:"/src/assets/data/metrics/*.json"}),"\n",(0,r.jsx)(s.strong,{children:"Purpose"}),": D3.js charts, interactive features\n",(0,r.jsx)(s.strong,{children:"Approach"}),": Enhances server-rendered content, doesn't replace it"]}),"\n",(0,r.jsx)(s.h2,{id:"benefits-of-current-architecture",children:"Benefits of Current Architecture"}),"\n",(0,r.jsxs)(s.h3,{id:"1-accessibility-first",children:["1. ",(0,r.jsx)(s.strong,{children:"Accessibility First"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Tables populated server-side work without JavaScript"}),"\n",(0,r.jsx)(s.li,{children:"Screen readers get immediate access to data"}),"\n",(0,r.jsx)(s.li,{children:"SEO-friendly with indexable content"}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"2-progressive-enhancement",children:["2. ",(0,r.jsx)(s.strong,{children:"Progressive Enhancement"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"JavaScript adds charts and interactivity"}),"\n",(0,r.jsx)(s.li,{children:"Fallback to tables when JS disabled"}),"\n",(0,r.jsx)(s.li,{children:"Maintains functionality across all contexts"}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"3-reliable-automation",children:["3. ",(0,r.jsx)(s.strong,{children:"Reliable Automation"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Weekly data updates via GitHub Actions"}),"\n",(0,r.jsx)(s.li,{children:"Automatic deployment to production"}),"\n",(0,r.jsx)(s.li,{children:"Error handling and fallback data"}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"4-performance",children:["4. ",(0,r.jsx)(s.strong,{children:"Performance"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Server-side rendering reduces initial page load"}),"\n",(0,r.jsx)(s.li,{children:"No AJAX calls needed for table data"}),"\n",(0,r.jsx)(s.li,{children:"Charts load only when JavaScript available"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"common-issues",children:"Common Issues:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Missing CSV Data"}),": Check if component-library repo has generated recent CSV files"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub API Limits"}),": Ensure GITHUB_TOKEN has sufficient API quotas"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Build Failures"}),": Verify all JSON files exist in both locations"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Stale Data"}),": Check if GitHub Actions workflow is running weekly"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"manual-data-updates",children:"Manual Data Updates:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Update component usage data\nnode scripts/process-ds-components.js\n\n# Update issue metrics\nGITHUB_TOKEN=your_token node scripts/collect-issue-metrics.js\n\n# Update experimental metrics  \nGITHUB_TOKEN=your_token node scripts/collect-experimental-metrics.js\n\n# Analyze component issues (generates markdown report)\nnode scripts/analyze_issues.js\n"})}),"\n",(0,r.jsx)(s.h3,{id:"verification-commands",children:"Verification Commands:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Check both locations have identical files\nls -la src/assets/data/metrics/ src/_data/metrics/\n\n# Verify JSON is valid\ncat src/_data/metrics/issue-metrics.json | jq '.' > /dev/null\n\n# Test Jekyll build\nyarn build\n"})}),"\n",(0,r.jsx)(s.h2,{id:"future-considerations",children:"Future Considerations"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Data Retention"}),": Consider archiving historical CSV data"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Performance"}),": Monitor Jekyll build times with larger datasets"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Caching"}),": Implement caching strategies for expensive calculations"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Monitoring"}),": Add alerts for failed data collection workflows"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453(e,s,n){n.d(s,{R:()=>l,x:()=>c});var i=n(96540);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);