{% comment %}
  Mermaid Chart Include
  
  Usage:
  {% include mermaid-chart.html 
     id="unique-chart-id" 
     caption="Description of the chart"
     chart="
flowchart TD
    A[Start] --> B[End]
" %}
  
  Parameters:
  - id: Unique identifier for the chart (required)
  - caption: Accessible description/caption for the chart (required)
  - chart: The Mermaid chart definition (required)

  Note: Pages using this include must set 'uses_mermaid: true' in their front matter
  to load the Mermaid.js library. See head.html for conditional library inclusion.
{% endcomment %}

<figure class="mermaid-chart-container">
  {% if include.caption %}
    <figcaption class="mermaid-chart-caption vads-u-font-size--sm vads-u-color--gray-dark vads-u-margin-bottom--1" id="{{ include.id }}-caption">
      {{ include.caption }}
    </figcaption>
  {% endif %}
  
  <div class="mermaid" 
       id="{{ include.id }}"
       aria-hidden="true">
    {{ include.chart }}
  </div>
</figure>