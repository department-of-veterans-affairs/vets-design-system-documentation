{% comment %}
Metric Trend Include
Renders a trend indicator for governance metrics

Parameters:
- trend_id: unique identifier for the trend element
- aria_label: accessible label for the trend
- percent: percentage change value (e.g., touchpoints_percent)
- change: numeric change value (e.g., touchpoints_change)
- governance_index: governance index data for fallback

Usage:
{% include metric-trend.html
   trend_id="touchpoints-held-trend"
   aria_label="Touchpoints held trend indicator"
   percent=touchpoints_percent
   change=touchpoints_change
   governance_index=governance_index %}
{% endcomment %}

<div class="metric-trend" id="{{ include.trend_id }}" aria-label="{{ include.aria_label }}">
  {% if include.percent != nil %}
    {% if include.change > 0 %}
      <span class="metric-trend trend-up">
        <span class="trend-icon">↗</span>
        <span>{{ include.percent }}% from previous quarter</span>
      </span>
    {% elsif include.change < 0 %}
      <span class="metric-trend trend-down">
        <span class="trend-icon">↘</span>
        <span>{{ include.percent | abs }}% from previous quarter</span>
      </span>
    {% else %}
      <span class="metric-trend trend-neutral">
        <span class="trend-icon">→</span>
        <span>No change from previous quarter</span>
      </span>
    {% endif %}
  {% else %}
    <span class="metric-trend trend-neutral">
      <span class="trend-icon">→</span>
      <span>Latest complete quarter ({{ include.governance_index.latest_complete_quarter }})</span>
    </span>
  {% endif %}
</div>