# WCAG Principle 3: Understandable
# Information and the operation of the user interface must be understandable.
# Tests: WEB-3xx series

tests:
  - id: WEB-311
    category: general
    wcag_criterion: 3.1.1
    wcag_name: Language of Page
    wcag_level: A
    508_severity: Medium
    wcag_url: https://www.w3.org/TR/WCAG21/#language-of-page
    description_short: |
      Page declares its language.
    description_full: |
      When you inspect the page,
      you find the html element includes a valid lang attribute specifying the page's primary language.
  - id: WEB-312
    category: general
    wcag_criterion: 3.1.2
    wcag_name: Language of Parts
    wcag_level: AA
    508_severity: Low
    wcag_url: https://www.w3.org/TR/WCAG21/#language-of-parts
    description_short: |
      Content declares language changes.
    description_full: |
      When you view text in different languages from the page's primary language,
      you find it is marked with `lang` attributes.
  - id: WEB-321
    category: keyboard
    wcag_criterion: 3.2.1
    wcag_name: On Focus
    wcag_level: A
    508_severity: Critical
    wcag_url: https://www.w3.org/TR/WCAG21/#on-focus
    description_short: |
      Focusing on an element doesn't trigger unexpected changes.
    description_full: |
      When you focus on an element,
      you find it does not trigger a change of context.
    subtests:
      - id: DST-321-001
        description_short: |
          Focusing on an input doesn't trigger unexpected changes.
        description_full: |
          When you focus on an input,
          you find it does not trigger a change of context such as opening a new page, displaying a modal, or causing content to appear or disappear.
  - id: WEB-322
    category: keyboard
    wcag_criterion: 3.2.2
    wcag_name: On Input
    wcag_level: AA
    508_severity: High
    wcag_url: https://www.w3.org/TR/WCAG21/#on-input
    description_short: |
      Changing the input value doesn't trigger unexpected changes.
    description_full: |
      When you change a form input value,
      you find it does not automatically cause navigation or context changes without warning.
  - id: WEB-323
    category: general
    wcag_criterion: 3.2.3
    wcag_name: Consistent Navigation
    wcag_level: AA
    508_severity: High
    wcag_url: https://www.w3.org/TR/WCAG21/#consistent-navigation
    description_short: |
      Navigation structure is the same across pages.
    description_full: |
      When you navigate between pages,
      you find navigation menus maintain consistent order and structure.
  - id: WEB-324
    category: general
    wcag_criterion: 3.2.4
    wcag_name: Consistent Identification
    wcag_level: AA
    508_severity: Medium
    wcag_url: https://www.w3.org/TR/WCAG21/#consistent-identification
    description_short: |
      Similar features have the same labels across pages.
    description_full: |
      When you use components with similar functionality on multiple pages,
      you find they have identical labels and function identically.
  - id: WEB-326
    category: general
    wcag_criterion: 3.2.6
    wcag_name: Consistent Help
    wcag_level: A
    508_severity: N/A
    wcag_url: https://www.w3.org/TR/WCAG22/#consistent-help
    description_short: |
      Help options appear in the same location across pages.
    description_full: |
      When you look for help mechanisms such as contact details, messaging, chat, or self-help options,
      you find they are in the same relative order across pages.
  - id: WEB-331
    category: general
    wcag_criterion: 3.3.1
    wcag_name: Error Identification
    wcag_level: A
    508_severity: Critical
    wcag_url: https://www.w3.org/TR/WCAG21/#error-identification
    description_short: |
      Users receive error messages when they enter invalid input.
    description_full: |
      When you enter an invalid value in a form input and attempt to advance the form,
      you receive a descriptive error message that identifies the problem.
    subtests:
      - id: DST-331-001
        category: screen_reader
        description_short: |
          Errors are identified on blur.
        description_full: |
          When you enter an invalid value in a form input and move focus away from the input,
          you receive an error message that identifies the problem.
      - id: DST-331-002
        description_short: |
          Invalid inputs have a descriptive error message.
        description_full: |
          When you enter an invalid value in a form input and attempt to advance the form,
          you receive a descriptive error message that identifies the problem.
      - id: DST-331-003
        description_short: |
          Invalid inputs have visible error styles.
        description_full: |
          When receiving an error message for an invalid input,
          you see a distinct visual style indicating which input has the error.
      - id: DST-331-004
        category: screen_reader
        description_short: |
          Screen readers announce errors when they occur.
        description_full: |
          When you receive an error message while using a screen reader,
          you hear the error message announced without needing to move focus to the message.
      - id: DST-331-005
        description_short: |
          Error messages appear near the relevant input.
        description_full: |
          When you receive an error message,
          you find it appears in a location that associates it with the relevant input,
          or the message clearly indicates which input has the error.
  - id: WEB-332
    category: general
    wcag_criterion: 3.3.2
    wcag_name: Labels or Instructions
    wcag_level: A
    508_severity: Critical
    wcag_url: https://www.w3.org/TR/WCAG21/#labels-or-instructions
    description_short: |
      Form inputs have a persistent label.
    description_full: |
      When you interact with a form input,
      you receive clear, persistent labels or instructions for that input.
    subtests:
      - id: WEB-332-001
        description_short: |
          Form inputs display visible labels.
        description_full: |
          When you view form inputs,
          you find visible labels or instructions are available for all inputs and input groupings.
      - id: WEB-332-002
        description_short: |
          Inputs with specific formats include instructions.
        description_full: |
          When you view form inputs that require specific formats,
          you find they provide instructions or examples.
      - id: WEB-332-003
        description_short: |
          Form inputs clearly mark required or optional fields.
        description_full: |
          When you view form inputs,
          you find visible labels or instructions identify which fields are required or optional.
  - id: WEB-333
    category: general
    wcag_criterion: 3.3.3
    wcag_name: Error Suggestion
    wcag_level: AA
    508_severity: Low
    wcag_url: https://www.w3.org/TR/WCAG21/#error-suggestion
    description_short: |
      Error messages explain how to fix the problem.
    description_full: |
      When you receive an error message,
      the message provides clear suggestions for correcting input errors,
      unless doing so would compromise security or the content's purpose.
  - id: WEB-334
    category: general
    wcag_criterion: 3.3.4
    wcag_name: Error Prevention (Legal, Financial, Data)
    wcag_level: AA
    508_severity: Critical
    wcag_url: https://www.w3.org/TR/WCAG21/#error-prevention-legal-financial-data
    description_short: |
      Users can review or undo important submissions.
    description_full: |
      When you make legal or financial transactions,
      you find you can review before submission or the action can be reversed.
  - id: WEB-336
    category: general
    wcag_criterion: 3.3.6
    wcag_name: Error Prevention (All)
    wcag_level: AAA
    508_severity: N/A
    wcag_url: https://www.w3.org/TR/WCAG21/#error-prevention-all
    description_short: |
      Users can review and correct incorrect information.
    description_full: |
      When you submit data,
      you find you can review before submission or the action can be reversed or corrected.
  - id: WEB-337
    category: general
    wcag_criterion: 3.3.7
    wcag_name: Redundant Entry
    wcag_level: A
    508_severity: N/A
    wcag_url: https://www.w3.org/TR/WCAG22/#redundant-entry
    description_short: |
      Users don't have to re-enter the same information.
    description_full: |
      When you complete a process,
      you find you are not required to refill the same information unless doing so is essential, ensuring security, or the original information is no longer valid.
  - id: WEB-338
    category: general
    wcag_criterion: 3.3.8
    wcag_name: Accessible Authentication (Minimum)
    wcag_level: AA
    508_severity: N/A
    wcag_url: https://www.w3.org/TR/WCAG22/#accessible-authentication-minimum
    description_short: |
      Login doesn't rely solely on remembering information.
    description_full: |
      When you log in,
      you find the process does not solely rely on cognitive tests and all steps support methods that do not rely on memory or knowledge.
